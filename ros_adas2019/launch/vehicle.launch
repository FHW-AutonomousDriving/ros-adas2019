<launch>
    <include file="$(find ros_adas2019)/launch/ros_adas2019.launch"/>

    <node name="rplidarNode"          pkg="rplidar_ros"  type="rplidarNode" ns="lidar" output="screen">
        <param name="serial_port"         type="string" value="/dev/ttyUSB0"/>
        <param name="serial_baudrate"     type="int"    value="115200"/>
        <param name="frame_id"            type="string" value="laser"/>
        <param name="inverted"            type="bool"   value="true"/>
        <param name="angle_compensate"    type="bool"   value="true"/>
    </node>
    <node name="laser_frame" pkg="tf2_ros" type="static_transform_publisher" args="0.45 0 0 0 0 1 0 base_link laser"/>

    <arg name="debug"                           default="false" />
    <arg name="node_name"                       default="pylon_camera_node" />
    <arg name="camera_info_url"                 default="package://ros_adas2019/config/front_camera_calibration.yaml" />

    <arg unless="$(arg debug)" name="launch_prefix" value="" />
    <arg     if="$(arg debug)" name="launch_prefix" value="gdb -ex run --args" />

    <node name="$(arg node_name)" pkg="pylon_usb-instant-camera" type="pylon_usb-instant-camera_node" output="screen">
        <param name="camera_info_url" value="$(arg camera_info_url)" />
    </node>

    <node ns="$(arg node_name)" name="$(arg node_name)_rectify" pkg="image_proc" type="image_proc" output="screen" />
</launch>
